{
    "family": "all-services-task",
    "containerDefinitions": [
      {
        "name": "auth-container",
        "image": "872515254231.dkr.ecr.eu-north-1.amazonaws.com/auth-service",
        "portMappings": [{"containerPort": 3001, "hostPort": 3001}],
        "environment": [
          {"name": "MONGODB_URI", "value": "mongodb://auth-mongodb:27017/auth"},
          {"name": "PORT", "value": "3001"},
          {"name": "ACCESS_TOKEN", "value": "very_secret"},
          {"name": "REFRESH_TOKEN", "value": "refresh_very_secret"},
          {"name": "TWILIO", "value": "NHC6KZADLNC1GG7MY436QYBL"},
          {"name": "SENDGRID_API_KEY", "value": "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"},
          {"name": "EMAIL_FROM", "value": "eliorsenel@gmail.com"},
          {"name": "SENDGRID_RESET_TEMPLATE_ID", "value": "d-4a1536373c2543678ef2be5bb468e53b"},
          {"name": "FRONTEND_URL", "value": "http://localhost:5173"},
          {"name": "SECRET_KEY_CRYPTO", "value": "secret_key"},
          {"name": "KAFKA_BROKER", "value": "kafka:9092"},
          {"name": "KAFKA_CLIENT_ID", "value": "auth"}
        ]
      },
      {
        "name": "payment-container",
        "image": "872515254231.dkr.ecr.eu-north-1.amazonaws.com/payment-service",
        "portMappings": [{"containerPort": 3004, "hostPort": 3004}],
        "environment": [
          {"name": "PORT", "value": "3004"},
          {"name": "MONGO_URI", "value": "mongodb://payment-mongodb:27017/netflixpayment"},
          {"name": "STRIPE_PUBLISHABLE_KEY", "value": "pk_test_51PmsIgGI8xoArhccjUaSVLXorsukjFlfvB6UynOsOpqdzWmuFzpfwTXQXjjDWqBicMHW9THt8T6yr52b4uyYE9sW00oq3tncHI"},
          {"name": "STRIPE_SECRET_KEY", "value": "sk_test_51PmsIgGI8xoArhcciuDF99int6P9ZweFvQLzM58TvUMQ7dbIexDjCtCxzVitnuHZ7ANJ2jwvfgL906QBAxhtqtu4003LH2AVMX"},
          {"name": "STRIPE_WEBHOOK_SECRET", "value": "whsec_23fb8a1db34fe134fa14b8895b1dfe21fec7da9e8ea4b12a311a8c07641db167"},
          {"name": "BASE_URL", "value": "http://localhost:3004/"},
          {"name": "CLIENT_URL", "value": "http://localhost:5173/"},
          {"name": "PAYPAL_API_URL", "value": "https://api-m.sandbox.paypal.com"},
          {"name": "PAYPAL_CLIENT_ID", "value": "ARX7Mke2yiT0PYgfuV2-360h2bgp3vrzYStlyL15sXy0fVH7GVwA_NDJ9-6kDoodzlVRS11-J7o72jFB"},
          {"name": "PAYPAL_CLIENT_SECRET", "value": "ENZf_-gKXuC73UbCFz7xylY50DM4bzBtdMfB2WIoaIc8nafMib-RP3dC5uY-N71j1EWUR8f_zuayvf2P"},
          {"name": "KAFKA_BROKER", "value": "kafka:9092"},
          {"name": "KAFKA_CLIENT_ID", "value": "payment"}
        ]
      },
      {
        "name": "accounts-container",
        "image": "872515254231.dkr.ecr.eu-north-1.amazonaws.com/accounts-service",
        "portMappings": [{"containerPort": 3002, "hostPort": 3002}],
        "environment": [
          {"name": "PORT", "value": "3002"},
          {"name": "DB_USERNAME", "value": "netflix"},
          {"name": "DB_PASSWORD", "value": "api"},
          {"name": "DB_NAME", "value": "netflix_accounts"},
          {"name": "DB_HOST", "value": "mysql"},
          {"name": "DB_PORT", "value": "3306"},
          {"name": "KAFKA_BROKER", "value": "kafka:9092"},
          {"name": "KAFKA_CLIENT_ID", "value": "accounts"}
        ]
      },
      {
        "name": "content-container",
        "image": "872515254231.dkr.ecr.eu-north-1.amazonaws.com/content-service",
        "portMappings": [{"containerPort": 3003, "hostPort": 3003}],
        "environment": [
          {"name": "MONGO_URI", "value": "mongodb://content-mongodb:27017/content"},
          {"name": "PORT", "value": "3003"},
          {"name": "TMDB_API_KEY", "value": "eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMjQ4NTRlMTUxOWU5YzQ1Yjg3YzAwYjJhZTAyNTJhYSIsIm5iZiI6MTcyNDMwNzAxNC45OTMzNDgsInN1YiI6IjY2YzFmMGJlNGVlYjNlMmI0NGQ5ZjVhOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jqN7aGIBCs1U8AdYh2ptXlO2CshrEQrsrwj-qAXIe58"},
          {"name": "SEARCH_KEY", "value": "324854e1519e9c45b87c00b2ae0252aa"},
          {"name": "BASE_URL", "value": "https://api.themoviedb.org/3"}
        ]
      },
      {
        "name": "recommender-container",
        "image": "872515254231.dkr.ecr.eu-north-1.amazonaws.com/recommender-service",
        "portMappings": [{"containerPort": 3006, "hostPort": 3006}],
        "environment": [
          {"name": "PORT", "value": "3006"},
          {"name": "MONGO_URI", "value": "mongodb://recommender-mongodb:27017/likedContent"},
          {"name": "TMDB_API_KEY", "value": "eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzMjQ4NTRlMTUxOWU5YzQ1Yjg3YzAwYjJhZTAyNTJhYSIsIm5iZiI6MTcyNDMwNzAxNC45OTMzNDgsInN1YiI6IjY2YzFmMGJlNGVlYjNlMmI0NGQ5ZjVhOSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jqN7aGIBCs1U8AdYh2ptXlO2CshrEQrsrwj-qAXIe58"},
          {"name": "GROQ_API_KEY", "value": "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"}
        ]
      }
    ],
    "requiresCompatibilities": ["EC2"],
    "networkMode": "host",
    "cpu": "2048",
    "memory": "4096"
  }